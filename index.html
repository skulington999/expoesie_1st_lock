<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Secret</title>

<!-- Police 8-bit -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
  html, body {
    margin:0;
    height:100%;
    display:flex;
    justify-content:center;
    align-items:center;
    background:#06060a;
    font-family:"Press Start 2P", monospace;
    color:#fff;
  }
  .container {
    text-align:center;
  }
  input[type="text"] {
    padding:12px;
    border-radius:6px;
    border:2px solid #111;
    background:#060608;
    color:#fff;
    font-family:inherit;
    font-size:14px;
    outline:none;
    margin-right:8px;
  }
  button {
    padding:12px 16px;
    border-radius:6px;
    border:0;
    background:#ff2b2b;
    color:#111;
    font-weight:700;
    cursor:pointer;
    font-family:inherit;
  }
  .reveal {
    margin-top:28px;
    font-size:32px;
    letter-spacing:2px;
    color:#ff2b2b;
    text-shadow:2px 0 0 #600,-2px 0 0 #600,0 2px 0 #600,0 -2px 0 #600;
    display:none;
    white-space:pre-wrap;
    word-break:break-word;
  }
  @keyframes glitch {
    0% { transform: translateX(0) }
    20% { transform: translateX(-2px) skewX(-1deg) }
    40% { transform: translateX(2px) skewX(1deg) }
    60% { transform: translateX(-2px) skewX(-1deg) }
    80% { transform: translateX(2px) skewX(1deg) }
    100% { transform: translateX(0) }
  }
  .reveal.glitch{animation:glitch .6s infinite;}
</style>
</head>
<body>
  <div class="container">
    <input id="codeInput" type="text" placeholder="Code" autocomplete="off" />
    <button id="checkBtn">Valider</button>
    <div id="reveal" class="reveal">WHEREDAMONEY@??</div>
  </div>

  <audio id="secretAudio" preload="auto" src="WHEREDAMONEY@ 8-Bit.wav"></audio>

<script>
  const EXPECTED = "jErk_kâ‚¬y_1";
  const input = document.getElementById('codeInput');
  const btn = document.getElementById('checkBtn');
  const reveal = document.getElementById('reveal');
  const audio = document.getElementById('secretAudio');

  btn.addEventListener('click', async () => {
    const val = input.value.trim();
    if(val === EXPECTED){
      reveal.style.display = "block";
      reveal.classList.add('glitch');
      try { await audio.play(); } catch(err){
        const manualBtn = document.createElement("button");
        manualBtn.textContent = "Jouer le son";
        manualBtn.onclick = () => { audio.play(); manualBtn.remove(); };
        input.parentNode.appendChild(manualBtn);
      }
    } else {
      reveal.style.display = "none";
      try{ audio.pause(); audio.currentTime = 0; }catch(e){}
    }
  });

  input.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ btn.click(); } });
</script>
</body>
</html>
